<!DOCTYPE html>
<html>
<head>
<title>My First Map Application</title>
<style type="text/css">
	#map {
		border: 1px solid black;
		width: 600px;
		height: 400px;
	}
</style>
</head>
<body>

<div id="map"></div>

<input type="button" value="Hide Rain" onclick="hiderain()">
 
<input type="button" value="Show Rain" onclick="showrain()">


<script type="text/javascript">

var map;
var point = { lat: 42, lng: -93 };
var infobox;

window.onload = init_map;

var rainlayer;

function init_map() {
	var mapdiv = document.getElementById('map');
	map = new google.maps.Map(
		mapdiv,
		{
			center: point,
			zoom: 6, 
			streetViewControl: false,
			scaleControl: true,
			fullscreenControl: false
		}
	);

	// we will work on other functions

	infobox = new google.maps.InfoWindow();
	// infobox.setContent('Here is my house');
	// infobox.setPosition(point);
	// infobox.open(map);

	/*

	var marker = new google.maps.Marker({
		map: map,
		position: point,
		icon: 'flag.png',
		title: 'Sensor 101'
	});

	marker.addListener('click', function() {
		infobox.setContent('<b>Sensor 101</b><BR><BR>City: Ames<BR>River: Cedar Creek');
		infobox.open(map, marker);
	});


	var tmp;
	for (var i = 0; i < 100; i++) {
		var lat1 = 40.5 + Math.random()*3;
		var lng1 = -96 + Math.random()*5;
		var loc = { lat: lat1, lng: lng1 };		
		tmp = new google.maps.Marker({
			map: map,
			position: loc,
			icon: 'flag.png',
			title: 'Sensor ' + (100+i)
		});
		tmp.addListener('click', function() {
			infobox.setContent('<b>'+this.title+'</b><BR><BR>Location: '+this.position);
			infobox.open(map, this);
		});
	}

	*/

	var path = [];
	path[0] = {lat: 42.0 , lng: -96.0 };
	path[1] = {lat: 42.5 , lng: -94.5 };
	path[2] = {lat: 43.5 , lng: -94.0 };
	path[3] = {lat: 44.5 , lng: -95.5 };
	path[4] = {lat: 43.0 , lng: -97.0 };

	var line = new google.maps.Polyline({
		path: path,
		strokeColor: '#F00',
		strokeWeight: 2.0
	});
	//line.setMap(map);

	var area = new google.maps.Polygon({
		path: path,
		strokeColor: '#000',
		fillColor: '#00F',
		fillOpacity: 0.3
	});
	//area.setMap(map);

	/*
	var circle = new google.maps.Circle({
		center: point,
		radius: 100000,
		map: map,
		strokeColor: '#00F',
		fillColor: '#F00',
		fillOpacity: 0.3,
		strokeWeight: 2.0
	});
	*/

	var boundary = {
		north: 44,
		south: 40,
		east: -90,
		west: -97
	};
	var image = "https://dsqxdkcvncv88.cloudfront.net/0KT4zzIuojnRWn4BTWTCX_4VSxFJ8LhUc7Hi0A2yMOvg02qtQNYQLrLwwg7cQ0/radar-2m/750x562/44.1,-120.53,7/20220414204839_20220414204839.png";

	rainlayer = new google.maps.GroundOverlay(image, boundary);
	//rainlayer.setMap(map);



	/*
	var kmlurl = "http://iowawis.org/layers/inundation/cedar_rapids_bridges/ff500.kmz"
	var kmllayer = new google.maps.KmlLayer({
		url: kmlurl,
		map: map
	});


	var georssurl = "http://api.flickr.com/services/feeds/geo/?g=322338@N20&lang=en-us&format=feed-georss"
	var rsslayer = new google.maps.KmlLayer({
		url: georssurl,
		map: map
	});


	var geojsonurl = "https://storage.googleapis.com/mapsdevsite/json/google.json";
	map.data.loadGeoJson(geojsonurl);

	map.data.setStyle({
		fillColor: 'green',
		strokeColor: 'blue',
		fillOpacity: 0.3,
		strokeWeight: 1.0
	});
	*/
}

function hiderain() {
	rainlayer.setMap(null);
}
function showrain() {
	rainlayer.setMap(map);
}

</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBNCNBr9PSfJ-yTPA63yQVU-Oh7ZJ9MXPk" async defer></script>
</body>
</html>